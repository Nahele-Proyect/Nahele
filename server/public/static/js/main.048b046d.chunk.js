(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{187:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAYAAADgzO9IAAAAAXNSR0IArs4c6QAAAExJREFUCB1jbPh/le3lx5tNDIwMcQwg8J9hkTi/eh0LWJCBoRwoAAPlQDEGJrhKmDCIBupmQuYjs5lAZiILgNlAMRaQRSAz4UZCLQcAIwYaiAejKoYAAAAASUVORK5CYII="},245:function(e,t,a){e.exports=a.p+"static/media/jake.e03cdebe.png"},246:function(e,t,a){e.exports=a.p+"static/media/suited-dog.3943348d.jpg"},248:function(e,t,a){e.exports=a.p+"static/media/location.61c7aa61.svg"},249:function(e,t,a){e.exports=a.p+"static/media/email.b25e5056.svg"},250:function(e,t,a){e.exports=a.p+"static/media/phone.cee4ba08.svg"},254:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAHBJREFUGBmNkAEKwCAMA2VfGP2mrx3sOV2us6IymIXQGlNTW9zdhCqcZQm4dmelFUp+CZZa6sYpeUVIFyIixMqjCO51Wy5unQExuYSbSF5JASLqPsqRM21lOoWc89tagr3PSMgOiWlwnUeXWA/E78IfuAX270S3ydAAAAAASUVORK5CYII="},258:function(e,t,a){e.exports=a(413)},264:function(e,t,a){},281:function(e,t,a){},282:function(e,t,a){},283:function(e,t,a){},289:function(e,t,a){},290:function(e,t,a){},291:function(e,t,a){},292:function(e,t,a){},293:function(e,t,a){},294:function(e,t,a){},295:function(e,t,a){},296:function(e,t,a){},316:function(e,t,a){},317:function(e,t,a){},366:function(e,t){},369:function(e,t,a){},403:function(e,t,a){},404:function(e,t,a){},405:function(e,t,a){},406:function(e,t,a){},407:function(e,t,a){},408:function(e,t,a){},412:function(e,t,a){},413:function(e,t,a){"use strict";a.r(t);var n,r=a(1),s=a.n(r),l=a(47),i=a(40),o=a.n(i),c=(a(263),a(264),a(29)),m=a(33),u=a(35),d=a(34),h=a(36),p=a(112),g=a(89),f=a.n(g),E=function e(){var t=this;Object(c.a)(this,e),this.signup=function(e){var a=e.username,n=e.password,r=e.confirmPassword,s=e.email;return t.service.post("/signup",{username:a,password:n,confirmPassword:r,email:s}).then((function(e){return e.data}))},this.login=function(e){var a=e.username,n=e.password;return t.service.post("/login",{username:a,password:n}).then((function(e){return e.data}))},this.logout=function(){return t.service.post("/logout").then((function(e){return e.data}))},this.loggedin=function(){return t.service.get("/loggedin").then((function(e){return e.data}))},this.updateUsername=function(e){var a=e.username;return t.service.put("/updateUsername",{username:a}).then((function(e){return e.data}))},this.updatePassword=function(e){var a=e.password,n=e.confirmPassword;return t.service.put("/updatePassword",{password:a,confirmPassword:n}).then((function(e){return e.data}))},this.updateEmail=function(e){var a=e.newEmail,n=e.oldEmail;return t.service.put("/updateEmail",{newEmail:a,oldEmail:n}).then((function(e){return e.data}))},this.updateImg=function(e){var a=e.img;return t.service.put("/updateImg",{img:a}).then((function(e){return e.data}))},this.service=f.a.create({baseURL:"".concat("http://localhost:5000/api","/auth"),withCredentials:!0})},v=a(73),b=a(105),y=a(75),C=(a(281),a(49)),w=(a(282),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).finishAction=function(){return a.props.closeModal()},a.postUser=function(){a.AuthServices.signup(a.state).then((function(e){"fail"!==e.status?(a.setState({username:"",password:"",confirmPassword:"",email:""}),a.props.setTheUser(e),a.finishAction()):a.setState({errorMessage:e.message})})).catch((function(e){return console.log(e)}))},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(C.a)({},n,r))},a.handleSubmit=function(e){e.preventDefault(),a.postUser()},a.state={username:"",password:"",confirmPassword:"",email:"",errorMessage:""},a.AuthServices=new E,a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"signup"},s.a.createElement("form",{id:"form-container",onSubmit:this.handleSubmit},s.a.createElement("div",{className:"box"},s.a.createElement("div",{className:"box-form"},s.a.createElement("div",{className:"box-login-tab"}),s.a.createElement("div",{className:"box-login-title"},s.a.createElement("div",{className:"i i-login"}),s.a.createElement("div",{className:"i i-login"}),s.a.createElement("div",{className:"i i-login"})),s.a.createElement("div",{className:"box-login"},s.a.createElement("div",{className:"fieldset-body",id:"login_form"},s.a.createElement("p",{className:"field"},s.a.createElement("label",{htmlFor:"username"},"Usuario"),s.a.createElement("input",{type:"text",id:"username",name:"username",title:"Introduzca nombre de usuario",placeholder:"Introduzca nombre de usuario",value:this.state.username,onChange:this.handleChange})),s.a.createElement("p",{className:"field"},s.a.createElement("label",{htmlFor:"email"},"Email"),s.a.createElement("input",{type:"email",id:"email",name:"email",title:"Introduzca correo electr\xf3nico",placeholder:"Introduzca correo electr\xf3nico",value:this.state.email,onChange:this.handleChange})),s.a.createElement("p",{className:"field"},s.a.createElement("label",{htmlFor:"password"},"Contrase\xf1a"),s.a.createElement("input",{type:"password",id:"password",name:"password",title:"Introduzca la contrase\xf1a",placeholder:"Introduzca la contrase\xf1a",value:this.state.password,onChange:this.handleChange})),s.a.createElement("p",{className:"field"},s.a.createElement("label",{htmlFor:"confirmPassword"}," Confirmar contrase\xf1a"),s.a.createElement("input",{type:"password",id:"confirmPassword",name:"confirmPassword",placeholder:"Confirme la contrase\xf1a",title:"Confirme la contrase\xf1a",value:this.state.confirmPassword,onChange:this.handleChange})),s.a.createElement("p",{className:"failureMessage"},this.state.errorMessage),s.a.createElement("p",{className:"link account-message aux-mes",onClick:this.props.closeModal}," Volver atr\xe1s"),s.a.createElement("input",{type:"submit",id:"do_login",value:"CREAR CUENTA"})))))))}}]),t}(r.Component)),N=(a(283),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).finishAction=function(){return a.props.closeModal()},a.postUser=function(){a.AuthServices.login(a.state).then((function(e){"fail"!==e.status?(a.setState({username:"",password:""}),a.props.setTheUser(e),a.finishAction()):a.setState({errorMessage:e.message})})).catch((function(e){return console.log(e)}))},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(C.a)({},n,r))},a.handleSubmit=function(e){e.preventDefault(),a.postUser()},a.state={username:"",password:"",errorMessage:""},a.AuthServices=new E,a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"login"},s.a.createElement("form",{id:"form-container",onSubmit:this.handleSubmit},s.a.createElement("div",{className:"box"},s.a.createElement("div",{className:"box-form"},s.a.createElement("div",{className:"box-login-tab"}),s.a.createElement("div",{className:"box-login-title"},s.a.createElement("div",{className:"i i-login"}),s.a.createElement("div",{className:"i i-login"}),s.a.createElement("div",{className:"i i-login"})),s.a.createElement("div",{className:"box-login"},s.a.createElement("div",{className:"fieldset-body",id:"login_form"},s.a.createElement("p",{className:"field"},s.a.createElement("label",{htmlFor:"username"},"Usuario"),s.a.createElement("input",{type:"text",id:"username",name:"username",title:"Introduzca nombre de usuario",placeholder:"Introduzca nombre de usuario",value:this.state.username,onChange:this.handleChange})),s.a.createElement("p",{className:"field"},s.a.createElement("label",{htmlFor:"password"},"Contrase\xf1a"),s.a.createElement("input",{type:"password",id:"password",name:"password",title:"Introduzca la contrase\xf1a",placeholder:"Introduzca la contrase\xf1a",value:this.state.password,onChange:this.handleChange})),s.a.createElement("p",{className:"failureMessage"}," ",this.state.errorMessage),s.a.createElement("p",{className:"link account-message aux-mes",onClick:this.props.closeModal}," Volver atr\xe1s"),s.a.createElement("input",{type:"submit",id:"do_login",value:"ENTRAR"})))))))}}]),t}(r.Component)),S=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).logout=function(){a.AuthServices.logout().then((function(){a.props.setTheUser(!1)})).catch((function(e){return console.log(e)}))},a.openModalSignUp=function(){return a.setState({showModalSignUp:!0})},a.closeModalSignup=function(){return a.setState({showModalSignUp:!1})},a.openModalLogin=function(){return a.setState({showModalLogin:!0})},a.closeModalLogin=function(){return a.setState({showModalLogin:!1})},a.state={showModalSignUp:!1,showModalLogin:!1},a.AuthServices=new E,a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this.props.loggedInUser?s.a.createElement(s.a.Fragment,null,"Bienvenido, ",this.props.loggedInUser.username):s.a.createElement(s.a.Fragment,null,"Bienvenido, invitad@");return this.props.loggedInUser?s.a.createElement(b.a,{style:{background:"#5a2020"},sticky:"top",expand:"lg"},s.a.createElement(b.a.Brand,null,s.a.createElement(l.b,{className:"logo",to:"/"},"Fluffy's Shelter")),s.a.createElement(y.a.Link,{as:"small",style:{color:"white"}},e),s.a.createElement(b.a.Toggle,{"aria-controls":"basic-navbar-nav"}),s.a.createElement(b.a.Collapse,{id:"basic-navbar-nav"},s.a.createElement(y.a,{className:"ml-auto"},s.a.createElement(y.a.Link,{style:{color:"white"},as:l.b,to:"/"},"Inicio"),s.a.createElement(y.a.Link,{style:{color:"white"},as:l.b,to:"/profile"},"Perfil"),s.a.createElement(y.a.Link,{style:{color:"white"},as:l.b,to:"/join"},"Salas de chat"),s.a.createElement(y.a.Link,{style:{color:"white"},as:l.b,to:"/about"},"Sobre Nosotros"),s.a.createElement(y.a.Link,{style:{color:"white"},onClick:this.logout},"Cerrar sesi\xf3n")))):s.a.createElement(s.a.Fragment,null,s.a.createElement(b.a,{bg:"dark",expand:"lg",variant:"dark"},s.a.createElement(b.a.Brand,{as:"div"},s.a.createElement(l.b,{to:"/"},"Fluffy's Shelter")),s.a.createElement(y.a.Link,{as:"small",style:{color:"white"}},e),s.a.createElement(b.a.Toggle,{"aria-controls":"basic-navbar-nav"}),s.a.createElement(b.a.Collapse,{id:"basic-navbar-nav"},s.a.createElement(y.a,{className:"ml-auto"},s.a.createElement(y.a.Link,{as:"div"}," ",s.a.createElement(l.b,{to:"/"},"Inicio")),s.a.createElement(y.a.Link,{onClick:this.openModalSignUp},"Registrarte"),s.a.createElement(y.a.Link,{onClick:this.openModalLogin},"Entrar"),s.a.createElement(y.a.Link,{as:l.b,to:"/about"},"Sobre Nosotros")))),s.a.createElement(v.a,{size:"sm",centered:!0,show:this.state.showModalSignUp,onHide:this.closeModalSignup,animation:!0},s.a.createElement(w,{setTheUser:this.props.setTheUser,closeModal:this.closeModalSignup})),s.a.createElement(v.a,{size:"sm",centered:!0,show:this.state.showModalLogin,onHide:this.closeModalLogin,animation:!0},s.a.createElement(N,{setTheUser:this.props.setTheUser,closeModal:this.closeModalLogin})))}}]),t}(r.Component),j=(a(289),function(){return s.a.createElement("footer",{className:"footer"},s.a.createElement("div",null,s.a.createElement("p",null," ",s.a.createElement("i",null,"Fluffy's Shelter 2020 Copyright \xa9 Todos los derechos reservados"))),s.a.createElement("div",{style:{marginLeft:"20px"}},s.a.createElement("p",null,"Una aplicaci\xf3n de ",s.a.createElement("a",{rel:"noopener noreferrer",href:"https://github.com/Nelsoncc1812",target:"_blank"}," Nelson")," & ",s.a.createElement("a",{rel:"noopener noreferrer",href:"https://github.com/Andres-Atehortua",target:"_blank"},"Andr\xe9s "),".")))}),x=a(46),M=a(44),U=a(72),O=a(78),A=a(206),I=a(114),k=a(43),F=function e(){var t=this;Object(c.a)(this,e),this.handleUpload=function(e){return t.service.post("/upload",e).then((function(e){return e.data}))},this.uploadImage=function(e){return t.service.post("/uploadImage",e).then((function(e){return e.data}))},this.service=f.a.create({baseURL:"".concat("http://localhost:5000/api","/files"),withCredentials:!0})},T=(a(290),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).finishAction=function(){a.props.closeModal()},a.updateUser=function(){a.AuthServices.updateUsername(a.state).then((function(e){"fail"!==e.status?(a.props.setTheUser(e),a.setState({username:"",mesage:""}),a.finishAction()):a.setState({errorMessage:e.message})})).catch((function(e){return e}))},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(C.a)({},n,r))},a.handleSubmit=function(e){e.preventDefault(),a.updateUser()},a.state={username:"",errorMessage:""},a.AuthServices=new E,a.filesServices=new F,a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"username"},s.a.createElement("form",{id:"form-container",onSubmit:this.handleSubmit},s.a.createElement("div",{className:"box"},s.a.createElement("div",{className:"box-form"},s.a.createElement("div",{className:"box-login-tab"}),s.a.createElement("div",{className:"box-login-title"},s.a.createElement("div",{className:"i i-login"}),s.a.createElement("div",{className:"i i-login"}),s.a.createElement("div",{className:"i i-login"})),s.a.createElement("div",{className:"box-login"},s.a.createElement("div",{className:"fieldset-body",id:"login_form"},s.a.createElement("p",{className:"field"},s.a.createElement("label",{htmlFor:"username"},"Usuario"),s.a.createElement("input",{type:"text",id:"username",name:"username",title:"Introduzca nuevo nombre de usuario",placeholder:"Introduzca nombre de usuario",value:this.state.username,onChange:this.handleChange})),s.a.createElement("p",{className:"failureMessage"},this.state.errorMessage),s.a.createElement("p",{className:"link account-message aux-mes",onClick:this.props.closeModal}," Volver atr\xe1s"),s.a.createElement("input",{type:"submit",id:"do_login",value:"CAMBIAR NOMBRE DE USUARIO"})))))))}}]),t}(r.Component)),P=(a(291),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).finishAction=function(){a.props.closeModal()},a.updateUser=function(){a.AuthServices.updatePassword(a.state).then((function(e){"fail"!==e.status?(a.props.setTheUser(e),a.setState({username:"",confirmPassword:"",mesage:""}),a.finishAction()):a.setState({errorMessage:e.message})})).catch((function(e){return e}))},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(C.a)({},n,r))},a.handleSubmit=function(e){e.preventDefault(),a.updateUser()},a.state={password:"",confirmPassword:"",errorMessage:""},a.AuthServices=new E,a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"password"},s.a.createElement("form",{id:"form-container",onSubmit:this.handleSubmit},s.a.createElement("div",{className:"box"},s.a.createElement("div",{className:"box-form"},s.a.createElement("div",{className:"box-login-tab"}),s.a.createElement("div",{className:"box-login-title"},s.a.createElement("div",{className:"i i-login"}),s.a.createElement("div",{className:"i i-login"}),s.a.createElement("div",{className:"i i-login"})),s.a.createElement("div",{className:"box-login"},s.a.createElement("div",{className:"fieldset-body",id:"login_form"},s.a.createElement("p",{className:"field"},s.a.createElement("label",{htmlFor:"password"},"Contrase\xf1a"),s.a.createElement("input",{type:"password",id:"password",name:"password",title:"Introduzca la contrase\xf1a",placeholder:"Introduzca la contrase\xf1a",value:this.state.password,onChange:this.handleChange})),s.a.createElement("p",{className:"field"},s.a.createElement("label",{htmlFor:"confirmPassword"}," Confirmar contrase\xf1a"),s.a.createElement("input",{type:"password",id:"confirmPassword",name:"confirmPassword",placeholder:"Confirme la contrase\xf1a",title:"Confirme la contrase\xf1a",value:this.state.confirmPassword,onChange:this.handleChange})),s.a.createElement("p",{className:"failureMessage"},this.state.errorMessage),s.a.createElement("p",{className:"link account-message aux-mes",onClick:this.props.closeModal}," Volver atr\xe1s"),s.a.createElement("input",{type:"submit",id:"do_login",value:"CAMBIAR CONTRASE\xd1A"})))))))}}]),t}(r.Component)),L=(a(292),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).finishAction=function(){return a.props.closeModal()},a.updateUser=function(){a.AuthServices.updateEmail(a.state).then((function(e){"fail"!==e.status?(a.props.setTheUser(e),a.setState({newEmail:"",oldEmail:"",mesage:""}),a.finishAction()):a.setState({errorMessage:e.message})})).catch((function(e){return e}))},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(C.a)({},n,r))},a.handleSubmit=function(e){e.preventDefault(),a.updateUser()},a.state={newEmail:"",oldEmail:"",errorMessage:""},a.AuthServices=new E,a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"email"},s.a.createElement("form",{id:"form-container",onSubmit:this.handleSubmit},s.a.createElement("div",{className:"box"},s.a.createElement("div",{className:"box-form"},s.a.createElement("div",{className:"box-login-tab"}),s.a.createElement("div",{className:"box-login-title"},s.a.createElement("div",{className:"i i-login"}),s.a.createElement("div",{className:"i i-login"}),s.a.createElement("div",{className:"i i-login"})),s.a.createElement("div",{className:"box-login"},s.a.createElement("div",{className:"fieldset-body",id:"login_form"},s.a.createElement("p",{className:"field"},s.a.createElement("label",{htmlFor:"oldEmail"},"Email actual"),s.a.createElement("input",{type:"email",id:"oldEmail",name:"oldEmail",title:"Introduzca nuevo correo electr\xf3nico",placeholder:"Introduzca email actual",value:this.state.oldEmail,onChange:this.handleChange})),s.a.createElement("p",{className:"field"},s.a.createElement("label",{htmlFor:"newEmail"},"Nuevo email"),s.a.createElement("input",{type:"email",id:"newEmail",name:"newEmail",title:"Introduzca nuevo correo electr\xf3nico",placeholder:"Introduzca nuevo email",value:this.state.newEmail,onChange:this.handleChange})),s.a.createElement("p",{className:"failureError"}," ",this.state.errorMessage),s.a.createElement("p",{className:"link account-message aux-mes",onClick:this.props.closeModal}," Volver atr\xe1s"),s.a.createElement("input",{type:"submit",id:"do_login",value:"ACTUALIZAR EMAIL"})))))))}}]),t}(r.Component)),z=a(66),H=(a(293),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).finishAction=function(){return a.props.closeModal()},a.handleFileUpload=function(e){var t=new FormData;t.append("imageUrl",e.target.files[0]),a.FilesServices.handleUpload(t).then((function(e){a.props.setTheUser(Object(z.a)({},a.props.loggedInUser,{img:e.secure_url})),a.finishAction()})).catch((function(e){return console.log(e)}))},a.updateUser=function(){a.AuthServices.updateImg(a.state).then((function(e){"fail"!==e.status?(a.props.setTheUser(e),a.finishAction()):a.setState({errorMessage:e.message})})).catch((function(e){return e}))},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(C.a)({},n,r))},a.handleSubmit=function(e){return e.preventDefault()},a.state={errorMessage:""},a.FilesServices=new F,a.AuthServices=new E,a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"pic-profile"},s.a.createElement("form",{id:"form-container",onSubmit:this.handleSubmit},s.a.createElement("div",{className:"box"},s.a.createElement("div",{className:"box-form"},s.a.createElement("div",{className:"box-login-tab"}),s.a.createElement("div",{className:"box-login-title"},s.a.createElement("div",{className:"i i-login"}),s.a.createElement("div",{className:"i i-login"}),s.a.createElement("div",{className:"i i-login"})),s.a.createElement("div",{className:"box-login"},s.a.createElement("div",{className:"fieldset-body",id:"login_form"},s.a.createElement("p",{className:"field"},s.a.createElement("label",{htmlFor:"imageUrl"},"Foto de perfil"),s.a.createElement("input",{style:{color:"transparent"},type:"file",id:"imageUrl",name:"imageUrl",title:"Sube una foto de perfil",onChange:this.handleFileUpload})),s.a.createElement("p",{className:"failureError"}," ",this.state.errorMessage),s.a.createElement("p",{className:"link account-message aux-mes",onClick:this.props.closeModal},"Volver atr\xe1s"),s.a.createElement("input",{type:"submit",id:"do_login",value:"ACTUALIZAR FOTO"})))))))}}]),t}(r.Component)),D=function e(){var t=this;Object(c.a)(this,e),this.getAllPets=function(){return t.service.get("/getAllPets").then((function(e){return e.data}))},this.createPet=function(e){return t.service.post("/new",e).then((function(e){return e.data}))},this.newScraped=function(e){return t.service.post("/newScraped",e).then((function(e){return e.data}))},this.getOnePet=function(e){return t.service.get("/find/"+e).then((function(e){return e.data}))},this.deleteOnePet=function(e){return t.service.delete("/delete/"+e).then((function(e){return e.data}))},this.addRequest=function(e,a){return t.service.post("/addRequest/"+e,a).then((function(e){return e.data}))},this.service=f.a.create({baseURL:"".concat("http://localhost:5000/api","/pet"),withCredentials:!0})},R=a(30),B=a(245),G=a.n(B),_=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).showMoreInfoHandler=function(){return a.setState({showMoreForm:!a.state.showMoreForm})},a.inputsHandler=function(e){"radio"===e.target.type&&(e.target.value=e.target.id),"checkbox"===e.target.type&&(e.target.value=e.target.checked),a.setState({form:Object(z.a)({},a.state.form,Object(C.a)({},e.target.name,e.target.value))})},a.imgFileUpload=function(e){var t=new FormData;t.append("img",e.target.files[0]),a.fileServices.uploadImage(t).then((function(e){return a.setState({form:Object(z.a)({},a.state.form,{img:e.img})})})).catch((function(e){return console.log(e)}))},a.submitHandler=function(e){e.preventDefault(),a.petServices.createPet(a.state.form).then((function(e){return"ok"===e.status?a.finishForm(e):a.setState({message:e.message})})).catch((function(e){return console.log(e)}))},a.finishForm=function(e){return a.props.setTheUser(e.user,a.props.petFormChange())},a.petServices=new D,a.fileServices=new F,a.state={form:{name:"",img:"",city:"",urgency:"En Adopci\xf3n",born:"",specie:"",gender:"",activity:"",weigth:"",size:"Mediano",vaccinated:!1,dewormed:!1,healthy:!1,sterilized:!1,indentified:!1,microchip:!1,comment:""},showMoreForm:!1,message:""},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return s.a.createElement(O.a,null,s.a.createElement("hr",null),s.a.createElement("br",null),s.a.createElement(R.a,null,s.a.createElement(R.a.Row,{className:"justify-content-between"},s.a.createElement(R.a.Group,{as:M.a,md:"5"},this.state.form.img?s.a.createElement("img",{style:{margin:"20px 0px",width:"60%"},src:this.state.form.img,alt:"foto"}):s.a.createElement(s.a.Fragment,null,s.a.createElement("img",{style:{margin:"20px 0px",width:"60%"},src:G.a,alt:"foto"}),s.a.createElement(R.a.Control,{name:"img",id:"img",type:"file",style:{color:"transparent"},onChange:this.imgFileUpload})),s.a.createElement(R.a.Label,{style:{marginTop:" 20px",display:"block"},htmlFor:"specie"},"Especie"),s.a.createElement(R.a.Control,{type:"text",id:"specie",name:"specie",value:this.state.form.specie,placeholder:"Gato, Perro...",onChange:this.inputsHandler}),s.a.createElement(R.a.Label,{htmlFor:"urgency"},"Urgencia"),s.a.createElement(R.a.Control,{as:"select",id:"urgency",name:"urgency",value:this.state.form.urgency,onChange:this.inputsHandler},s.a.createElement("option",null,"En Adopci\xf3n"),s.a.createElement("option",null,"Urgente"))),s.a.createElement(R.a.Group,{as:M.a,md:"5",className:"align-self-end"},s.a.createElement(R.a.Label,{style:{marginTop:"15px"},htmlFor:"name"},"Nombre"),s.a.createElement(R.a.Control,{type:"text",id:"name",name:"name",value:this.state.form.name,placeholder:"Nombre de la mascota",onChange:this.inputsHandler}),s.a.createElement(R.a.Label,{style:{marginTop:"15px"},htmlFor:"city"},"Ciudad"),s.a.createElement(R.a.Control,{type:"text",id:"city",name:"city",value:this.state.form.city,placeholder:"Escribe el nombre de tu ciudad",onChange:this.inputsHandler}),s.a.createElement(R.a.Label,{style:{marginTop:"15px"},htmlFor:"born"},"Nacimiento"),s.a.createElement(R.a.Control,{type:"date",id:"born",name:"born",value:this.state.form.born,onChange:this.inputsHandler}),s.a.createElement("fieldset",null,s.a.createElement(R.a.Group,{style:{marginTop:"30px"},as:U.a},s.a.createElement(R.a.Label,{style:{marginTop:"15px"},as:M.a,md:2},"G\xe9nero"),s.a.createElement(R.a.Check,{style:{margin:"15px 15px"},checked:"Macho"===this.state.form.gender,onChange:this.inputsHandler,type:"radio",label:"Macho",name:"gender",id:"Macho"}),s.a.createElement(R.a.Check,{style:{margin:"15px"},checked:"Hembra"===this.state.form.gender,onChange:this.inputsHandler,type:"radio",label:"Hembra",name:"gender",id:"Hembra"})))))),this.state.message.length>0&&s.a.createElement("h6",{style:{color:"red"}},this.state.message),s.a.createElement(x.a,{variant:"primary",style:{marginBottom:"50px"},onClick:this.showMoreInfoHandler},this.state.showMoreForm?"Ocultar opciones extra":"Mostrar m\xe1s opciones"),this.state.showMoreForm&&s.a.createElement(U.a,{className:"justify-content-between align-items-center"},s.a.createElement(R.a.Group,{as:M.a,md:5},s.a.createElement(R.a.Label,{style:{marginTop:"15px"},htmlFor:"activity"},"Actividad"),s.a.createElement(R.a.Control,{as:"select",id:"activity",name:"activity",value:this.state.form.activity,onChange:this.inputsHandler},s.a.createElement("option",{value:"Desconocida"},"Desconocida"),s.a.createElement("option",{value:"Baja"},"Baja"),s.a.createElement("option",{value:"Media"},"Media"),s.a.createElement("option",{value:"Alta"},"Alta")),s.a.createElement(R.a.Label,{style:{marginTop:"15px"},htmlFor:"weigth"},"Peso"),s.a.createElement(R.a.Control,{type:"text",id:"weigth",name:"weigth",value:this.state.form.weigth,placeholder:"Peso en kilos",onChange:this.inputsHandler}),s.a.createElement(R.a.Label,{style:{marginTop:"15px"},htmlFor:"size"},"Tama\xf1o"),s.a.createElement(R.a.Control,{as:"select",id:"size",name:"size",value:this.state.form.activity,onChange:this.inputsHandler},s.a.createElement("option",{value:"Mediano"},"Mediano"),s.a.createElement("option",{value:"Peque\xf1o"},"Peque\xf1o"),s.a.createElement("option",{value:"Grande"},"Grande"))),s.a.createElement(R.a.Group,{as:M.a,md:5},s.a.createElement(R.a.Check,{label:"Vacunado",name:"vaccinated",checked:"true"===this.state.form.vaccinated,onChange:this.inputsHandler}),s.a.createElement(R.a.Check,{label:"Desparasitado",name:"dewormed",checked:"true"===this.state.form.dewormed,onChange:this.inputsHandler}),s.a.createElement(R.a.Check,{label:"Sano",name:"healthy",checked:"true"===this.state.form.healthy,onChange:this.inputsHandler}),s.a.createElement(R.a.Check,{label:"Esterilizado",name:"sterilized",checked:"true"===this.state.form.sterilized,onChange:this.inputsHandler}),s.a.createElement(R.a.Check,{label:"Identificado",name:"identified",checked:"true"===this.state.form.identified,onChange:this.inputsHandler}),s.a.createElement(R.a.Check,{label:"Microchip",name:"microchip",checked:"true"===this.state.form.microchip,onChange:this.inputsHandler}),s.a.createElement(R.a.Group,{style:{marginTop:"25px"}},s.a.createElement(R.a.Label,{htmlFor:"comment"},"Informaci\xf3n extra:"),s.a.createElement(R.a.Control,{as:"textarea",name:"comment",value:this.state.form.comment,onChange:this.inputsHandler})))),s.a.createElement(x.a,{variant:"outline-success",style:{position:"relative",left:"70%",margin:"20px 0"},onClick:this.submitHandler},"Crear mascota"))}}]),t}(r.Component),W=function e(){var t=this;Object(c.a)(this,e),this.postCalendar=function(e,a){return t.service.post("/new/".concat(a),e).then((function(e){return e.data}))},this.deleteCalentar=function(e){return t.service.delete("/delete/".concat(e),e).then((function(e){return e.data}))},this.service=f.a.create({baseURL:"".concat("http://localhost:5000/api","/calendar"),withCredentials:!0})},q=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).deleteCalendar=function(e){a.calendarService.deleteCalentar(e).then((function(e){return a.props.setTheUser(e.user)})).catch((function(e){return console.log(e)}))},a.calendarService=new W,a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement(k.a,{style:{height:"auto",backgroundColor:"rgba(255,255, 255, 0.5)",width:"70%",margin:"0 auto",marginBottom:"25px"}},s.a.createElement(k.a.Body,null,s.a.createElement(k.a.Title,{style:{textAlign:"center"}},s.a.createElement("h4",null,"CALENDARIO DE CITAS")),s.a.createElement(k.a.Text,{as:"div",style:{height:"25vh",textAlign:"center",overflowY:"scroll",backgroundColor:"#00000008"}},this.props.loggedInUser.calendar&&this.props.loggedInUser.calendar.map((function(t,a){return s.a.createElement("div",{key:a},s.a.createElement("p",null,s.a.createElement("strong",null,"T\xedtulo: "),t.title),s.a.createElement("p",null,s.a.createElement("strong",null,"Fecha de inicio: "),t.start&&t.start.substr(0,10)),s.a.createElement("p",null,s.a.createElement("strong",null,"Fecha fin: "),t.end&&t.end.substr(0,10)),s.a.createElement(l.b,{to:"/details/".concat(t.petsUrl)},"Ir a la mascota"),s.a.createElement(x.a,{style:{marginLeft:"15px"},size:"sm",variant:"outline-danger",onClick:function(){return e.deleteCalendar(t._id)}},"Eliminar"),s.a.createElement("hr",null))})))))}}]),t}(r.Component),V=function(e){return s.a.createElement("div",{className:"idexPetListCard",style:{display:"flex",justifyContent:"space-around",borderBottom:".5px solid rgb(200,200,200)",margin:"5px",padding:"5px"}},s.a.createElement(l.b,{to:"/myPet/"+e._id},e.name),s.a.createElement("p",null,e.requests.length," ",s.a.createElement(x.a,{variant:"outline-danger",style:{height:"35px",textAlign:"center",marginLeft:"15px"},onClick:e.deleteFromList},"Dar de baja")))},K=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).deleteFromList=function(e){a.petServices.deleteOnePet(e).then((function(e){return a.props.setTheUser(e.user)})).catch((function(e){return e}))},a.state={},a.petServices=new D,a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement(k.a,{style:{height:"auto",backgroundColor:"rgba(255,255, 255, 0.5)",width:"70%",margin:"0 auto"}},s.a.createElement(k.a.Body,null,s.a.createElement(k.a.Title,{style:{textAlign:"center"}},s.a.createElement("h4",null,"Animales en adopci\xf3n")),s.a.createElement(k.a.Text,{as:"div",style:{height:"25vh",textAlign:"center",overflowY:"scroll",backgroundColor:"#00000008"}},this.props.loggedInUser.pets.map((function(t){return s.a.createElement(V,Object.assign({key:t._id,deleteFromList:function(){return e.deleteFromList(t._id)}},t))})))))}}]),t}(r.Component),Q=(a(294),a(246)),Y=a.n(Q),J=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).showModalUsername=function(){return a.setState({showModalUsername:!0})},a.showModalPassword=function(){return a.setState({showModalPassword:!0})},a.showModalEmail=function(){return a.setState({showModalEmail:!0})},a.showModalImg=function(){return a.setState({showModalImg:!0})},a.closeModal=function(){return a.setState({showModalUsername:!1,showModalPassword:!1,showModalEmail:!1,showModalImg:!1})},a.petFormChange=function(){return a.setState({showPetForm:!a.state.showPetForm})},a.FilesServices=new F,a.AuthServices=new E,a.state={showModalUsername:!1,showModalPassword:!1,showModalEmail:!1,showModalImg:!1,showPetForm:!1},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(O.a,null,s.a.createElement(I.a,{defaultActiveKey:"1"},s.a.createElement(k.a,{style:{backgroundColor:"#ffffff",border:"1px solid grey"}},s.a.createElement(k.a.Header,{style:{backgroundColor:"white",display:"flex",alignItems:"center",justifyContent:"center"}},s.a.createElement(I.a.Toggle,{style:{margin:"0 auto",textDecoration:"none",color:"black"},as:x.a,variant:"link",eventKey:"0"},"AJUSTES")),s.a.createElement(I.a.Collapse,{eventKey:"0"},s.a.createElement(k.a.Body,null,s.a.createElement("ul",{style:{display:"flex",justifyContent:"space-between",listStyle:"none"}},s.a.createElement("li",{className:"options",onClick:this.showModalUsername},"-Cambiar nombre de usuario-"),s.a.createElement("li",{className:"options",onClick:this.showModalPassword},"-Cambiar Contrase\xf1a-"),s.a.createElement("li",{className:"options",onClick:this.showModalEmail},"-Cambiar email-"),s.a.createElement("li",{className:"options",onClick:this.showModalImg},"-Cambiar foto de perfil-")))))),s.a.createElement(U.a,{className:"justify-content-between",style:{marginTop:"50px"}},s.a.createElement(M.a,{md:6},this.props.loggedInUser.img?s.a.createElement("figure",{style:{margin:"0 auto"}},s.a.createElement(A.a,{style:{objectFit:"cover",height:"400px",width:"80%"},src:this.props.loggedInUser.img,alt:"Profile Pic",roundedCircle:!0})):s.a.createElement(s.a.Fragment,null,s.a.createElement("figure",null,s.a.createElement(A.a,{style:{objectFit:"cover",height:"400px",width:"80%"},src:Y.a,alt:"default",roundedCircle:!0})),s.a.createElement("h4",null,s.a.createElement("i",null,"Podr\xedas a\xf1adir una foto de perfil")))),s.a.createElement(M.a,{md:6},s.a.createElement(q,this.props),s.a.createElement(K,{setTheUser:this.props.setTheUser,loggedInUser:this.props.loggedInUser})))),s.a.createElement(x.a,{variant:"info",style:{position:"relative",top:"50%",left:"45%",marginTop:" 50px"},onClick:this.petFormChange},this.state.showPetForm?"Ocultar formulario":"Dar en adopci\xf3n"),s.a.createElement(v.a,{size:"sm",centered:!0,show:this.state.showModalUsername,onHide:this.closeModal,animation:!0},s.a.createElement(T,{setTheUser:this.props.setTheUser,loggedInUser:this.props.loggedInUser,closeModal:this.closeModal})),s.a.createElement(v.a,{size:"sm",centered:!0,show:this.state.showModalPassword,onHide:this.closeModal,animation:!0},s.a.createElement(P,{setTheUser:this.props.setTheUser,loggedInUser:this.props.loggedInUser,closeModal:this.closeModal})),s.a.createElement(v.a,{size:"sm",centered:!0,show:this.state.showModalEmail,onHide:this.closeModal,animation:!0},s.a.createElement(L,{setTheUser:this.props.setTheUser,loggedInUser:this.props.loggedInUser,closeModal:this.closeModal})),s.a.createElement(v.a,{size:"sm",centered:!0,show:this.state.showModalImg,onHide:this.closeModal,animation:!0},s.a.createElement(H,{setTheUser:this.props.setTheUser,loggedInUser:this.props.loggedInUser,closeModal:this.closeModal})),this.state.showPetForm&&s.a.createElement(O.a,null,s.a.createElement(_,{petFormChange:this.petFormChange,setTheUser:this.props.setTheUser,loggedInUser:this.props.loggedInUser})))}}]),t}(r.Component),Z=a(136),X=function e(){var t=this;Object(c.a)(this,e),this.getAll=function(){return t.service.get("/",{cancelToken:t.axiosCancelSource.token}).then((function(e){return e.data}))},this.getDetails=function(e){return t.service.get("/details/"+e,{cancelToken:t.axiosCancelSource.token}).then((function(e){return e.data}))},this.cancelAll=function(){return t.axiosCancelSource.cancel("Component unmounted.")},this.service=new f.a.create({baseURL:"".concat("http://localhost:5000/api","/scrap"),withCredentials:!0}),this.axiosCancelSource=f.a.CancelToken.source()},$=(a(295),function(e){return s.a.createElement("div",{className:"petCard",style:{borderRadius:"0 0 25px 25px"}},s.a.createElement(l.b,{to:e.link?"/details"+e.link:"/myPet/"+e._id},s.a.createElement(k.a,{style:{border:"1px solid grey",marginTop:"40px",borderRadius:"5px 5px 25px 25px"}},s.a.createElement(k.a.Img,{src:e.img,style:{width:"100%",height:"208px"},alt:"pet"}),s.a.createElement(k.a.Body,{style:{padding:"10px"}},s.a.createElement(k.a.Title,null,e.name),s.a.createElement(k.a.Text,null,e.specie," - ",e.city," ",s.a.createElement("img",{style:{width:"20px",height:"15px"},src:e.flag,alt:"flag"})," ")),"Urgente"===e.urgency?s.a.createElement(x.a,{style:{backgroundColor:"red",border:"none"},className:"button-index"},e.urgency):s.a.createElement(x.a,{className:"button-index"},e.urgency))))}),ee=(a(296),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).quitFilters=function(){return a.setState({form:{specie:"",urgency:""},filter:{specieFilter:"",urgencyFilter:""}},(function(){return a.props.changeFilters(a.state.filter)}))},a.inputHandler=function(e){return a.setState({form:Object(z.a)({},a.state.form,Object(C.a)({},e.target.name,e.target.id)),filter:Object(z.a)({},a.state.filter,Object(C.a)({},e.target.name,e.target.id))},(function(){return a.props.changeFilters(a.state.filter)}))},a.state={form:{specie:"",urgency:""},filter:{specie:"",urgency:""}},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"filter",style:{display:"flex"}},s.a.createElement(R.a.Group,{className:"mr40",style:{display:"flex"}},s.a.createElement(R.a.Label,{className:"mr20",htmlFor:"specie"},"Especie:"),s.a.createElement(R.a.Check,{className:"mr15",checked:"Perro"===this.state.form.specie,onChange:this.inputHandler,type:"radio",label:"Perro",name:"specie",id:"Perro"}),s.a.createElement(R.a.Check,{className:"mr15",checked:"Gato"===this.state.form.specie,onChange:this.inputHandler,type:"radio",label:"Gato",name:"specie",id:"Gato"}),s.a.createElement(R.a.Check,{className:"mr15",checked:"Otros"===this.state.form.specie,onChange:this.inputHandler,type:"radio",label:"Otros",name:"specie",id:"Otros"})),s.a.createElement(R.a.Group,{style:{display:"flex"}},s.a.createElement(R.a.Label,{className:"mr20",htmlFor:"urgency"},"Urgencia:"),s.a.createElement(R.a.Check,{className:"mr15",checked:"Urgente"===this.state.form.urgency,onChange:this.inputHandler,type:"radio",label:"Urgente",name:"urgency",id:"Urgente"}),s.a.createElement(R.a.Check,{className:"mr15",checked:"En Adopci\xf3n"===this.state.form.urgency,onChange:this.inputHandler,type:"radio",label:"En Adopci\xf3n",name:"urgency",id:"En Adopci\xf3n"}),(0!==this.state.form.specie.length||0!==this.state.form.urgency.length)&&s.a.createElement(x.a,{style:{marginLeft:"80px"},variant:"outline-info",size:"sm",onClick:this.quitFilters},"Mostrar Todos")))}}]),t}(r.Component)),te=a(257),ae=a(209),ne=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).componentDidMount=function(){return a.setData()},a.componentDidUpdate=function(){a.chart&&a.chart.dispose(),a.mountChart()},a.componentWillUnmount=function(){a.chart&&a.chart.dispose(),a.props.closeModal()},a.setData=function(){var e=Object(Z.a)(a.props.pets).map((function(e){return e.specie})),t=[];e.forEach((function(e){return t.includes(e)?null:t.push(e)}));var n={};t.map((function(e){return n[e]=0})),e.map((function(e){return n[e]+=1})),a.setState(Object(z.a)({},a.state.data,{data:{specie:t.map((function(e,t){return{Especie:e,Cantidad:n[e]}}))}}))},a.mountChart=function(){a.chart=te.a("indexChart",ae.a),a.chart.paddingRight=90,a.chart.paddingLeft=90,a.chart.data=a.state.data.specie;var e=a.chart.series.push(new ae.b);e.dataFields.value="Cantidad",e.dataFields.category="Especie"},a.state={data:void 0},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return this.state.data?s.a.createElement("div",{className:"indexChart"},s.a.createElement("h1",{style:{textAlign:"center",marginTop:"30px"}},"Porcentaje actual"),s.a.createElement("div",{id:"indexChart",style:{width:"100%",height:"500px"}})):s.a.createElement("h1",null,"Cargando el grafico weeeee")}}]),t}(r.Component),re=(a(220),a(135)),se=a.n(re),le=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).componentDidMount=function(){return a.getAllPets()},a.componentWillUnmount=function(){return a.scrapServices.cancelAll()},a.getAllPets=function(){Promise.all([a.scrapServices.getAll(),a.petServices.getAllPets()]).then((function(e){var t=e[0].pets,a=e[1].pets;return(a=a.filter((function(e){return e.owner}))).concat(t)})).then((function(e){return a.setState({pets:e})})).catch((function(e){return e}))},a.changeFilters=function(e){return a.setState(Object(z.a)({},a.state,{filters:{specie:e.specie,urgency:e.urgency}}))},a.closeModal=function(){return a.setState({showGraficModal:!1})},a.openGraficModal=function(){return a.setState({showGraficModal:!0})},a.state={loggedInUser:e.loggedInUser,pets:void 0,filters:{specie:"",urgency:""},showGraficModal:!1},a.filtered=void 0,a.scrapServices=new X,a.petServices=new D,a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return this.state.pets&&(this.filtered=Object(Z.a)(this.state.pets),this.state.filters.specie&&("Otros"===this.state.filters.specie?this.filtered=this.state.pets.filter((function(e){return e.specie.localeCompare("Gato")&&e.specie.localeCompare("Perro")})):this.filtered=this.state.pets.filter((function(t){return!t.specie.localeCompare(e.state.filters.specie)}))),this.state.filters.urgency&&(this.filtered=this.filtered.filter((function(t){return!t.urgency.localeCompare(e.state.filters.urgency)})))),s.a.createElement("div",{className:"index"},s.a.createElement(O.a,null,s.a.createElement(I.a,{defaultActiveKey:"1"},s.a.createElement(k.a,{style:{backgroundColor:"#ffffff",border:"1px solid grey"}},s.a.createElement(k.a.Header,{style:{backgroundColor:"white",display:"flex",alignItems:"center",justifyContent:"center"}},s.a.createElement(I.a.Toggle,{style:{margin:"0 auto",textDecoration:"none",color:"black"},as:x.a,variant:"link",eventKey:"0"},"FILTROS")),s.a.createElement(x.a,{variant:"outline-info",onClick:this.openGraficModal},"Ver informaci\xf3n general"),s.a.createElement(I.a.Collapse,{eventKey:"0"},s.a.createElement(k.a.Body,null,this.state.pets&&s.a.createElement(ee,{changeFilters:this.changeFilters}))))),this.state.pets?s.a.createElement(U.a,{style:{paddingBottom:"85px"}},0===this.filtered.length?s.a.createElement("h1",{style:{paddingBottom:"37vh",marginTop:"100px"}},"Ahora mismo no hay mascotas con esos filtros"):this.filtered.map((function(e,t){return s.a.createElement(M.a,{lg:"3",md:"4",sm:"6",key:t},s.a.createElement($,e))}))):s.a.createElement(s.a.Fragment,null,s.a.createElement(se.a,{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh"},type:"Rings",color:"red",height:250,width:250,timeout:1e4})),s.a.createElement(v.a,{size:"md",centered:!0,show:this.state.showGraficModal,onHide:this.closeModal,animation:!0},s.a.createElement(ne,{pets:this.state.pets,closeModal:this.closeModal}))))}}]),t}(r.Component),ie=(a(316),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).inputHandler=function(e){return a.setState({form:Object(z.a)({},a.state.form,Object(C.a)({},e.target.name,e.target.value))})},a.submitHandler=function(e){e.preventDefault(),a.props.pet.owner?a.petServices.addRequest(a.props.pet._id,a.state.form).then((function(e){return a.finish(e.user)})).catch((function(e){return console.log(e)})):a.petServices.newScraped(a.props.pet).then((function(e){return e.pet})).then((function(e){return a.petServices.addRequest(e._id,a.state.form)})).then((function(e){return a.finish(e.user)})).catch((function(e){return console.log(e)}))},a.state={form:{request:""}},a.petServices=new D,a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"finish",value:function(e){this.props.setTheUser(e),this.props.closeModal()}},{key:"render",value:function(){return s.a.createElement("div",{className:"adoptPet"},s.a.createElement("form",{id:"form-container",onSubmit:this.submitHandler},s.a.createElement("div",{className:"box"},s.a.createElement("div",{className:"box-form"},s.a.createElement("div",{className:"box-login-tab"}),s.a.createElement("div",{className:"box-login-title"},s.a.createElement("div",{className:"i i-login"}),s.a.createElement("div",{className:"i i-login"}),s.a.createElement("div",{className:"i i-login"})),s.a.createElement("div",{className:"box-login"},s.a.createElement("div",{className:"fieldset-body",id:"login_form"},s.a.createElement("p",{className:"field"},s.a.createElement("label",{htmlFor:"username"},"Usuario"),s.a.createElement("input",{type:"text",id:"username",name:"username",value:this.props.loggedInUser.username,readOnly:!0})),s.a.createElement("p",{className:"field"},s.a.createElement("label",{htmlFor:"email"},"Correo"),s.a.createElement("input",{type:"email",id:"email",name:"email",value:this.props.loggedInUser.email,readOnly:!0})),s.a.createElement("p",{className:"field"},s.a.createElement("label",{htmlFor:"request"},"Mensaje"),s.a.createElement("textarea",{name:"request",rows:"10",cols:"30",value:this.state.form.textArea,onChange:this.inputHandler})),s.a.createElement("p",{className:"failureMessage"}," ",this.state.errorMessage),s.a.createElement("p",{className:"link account-message aux-mes",onClick:this.props.closeModal},"Volver atr\xe1s"),s.a.createElement("input",{type:"submit",id:"do_login",value:"MANDAR SOLICITUD"})))))))}}]),t}(r.Component)),oe=(a(317),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).componentDidMount=function(){a.props.match.params.link&&a.getOnePet(a.props.match.params.link),a.props.match.params.id&&a.getMyPet(a.props.match.params.id)},a.getOnePet=function(e){a.scrapServices.getDetails(e).then((function(e){return a.setState({pet:e.pet})})).catch((function(e){return e}))},a.getMyPet=function(e){a.petServices.getOnePet(e).then((function(e){return a.setState({pet:e.pet})})).catch((function(e){return e}))},a.showAdoptModal=function(){return a.setState({showAdoptModal:!0})},a.closeModal=function(){return a.setState({showAdoptModal:!1})},a.state={pet:void 0,showAdoptModal:!1},a.scrapServices=new X,a.petServices=new D,a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,this.state.pet?s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"details"},s.a.createElement(O.a,null,s.a.createElement(U.a,{className:"justify-content-between align-items-center"},s.a.createElement(M.a,{md:5},s.a.createElement("figure",null,s.a.createElement("img",{src:this.state.pet.img,alt:"pet"})),this.props.loggedInUser&&s.a.createElement(x.a,{size:"lg",variant:"outline-info",onClick:this.showAdoptModal},"Adoptar")),s.a.createElement(M.a,{md:5},s.a.createElement("h1",null,"Nombre: ",this.state.pet.name),s.a.createElement("h6",null,this.state.pet.specie),s.a.createElement("p",null,"Nacimiento:"," ",this.state.pet.born?this.state.pet.born.substr(0,10):"Desconocido"),s.a.createElement("p",null,"Sexo: ",this.state.pet.gender),s.a.createElement("p",null,"Tama\xf1o: ",this.state.pet.size),s.a.createElement("p",null,"Peso: ",this.state.pet.weigth),s.a.createElement("p",null,"Actividad: ",this.state.pet.activity),s.a.createElement("p",null,"Vacunado: ",this.state.pet.vaccinated),s.a.createElement("p",null,"Desparasitado: ",this.state.pet.dewormed),s.a.createElement("p",null,"Sano: ",this.state.pet.healthy),s.a.createElement("p",null,"Esterilizado: ",this.state.pet.sterilized),s.a.createElement("p",null,"Identificado: ",this.state.pet.indentified),s.a.createElement("p",null,"Microchip: ",this.state.pet.microchip),s.a.createElement("p",null,"Estado: ",this.state.pet.urgency),s.a.createElement(U.a,{className:"justify-content-start"},s.a.createElement(M.a,{md:6},s.a.createElement("p",null,"Ciudad: ",this.state.pet.city)),s.a.createElement(M.a,{md:4},s.a.createElement("figure",null,s.a.createElement("img",{className:"flag",src:this.state.pet.flag,alt:"flag"})))))),s.a.createElement("hr",null),s.a.createElement("div",{style:{fontSize:"1.3em"}},s.a.createElement("p",null,this.state.pet.comment))),s.a.createElement("hr",null),this.props.loggedInUser&&s.a.createElement(l.b,{style:{display:"flex",justifyContent:"center",color:"blue"},to:"/newCalendar/".concat(this.props.match.params.link)},s.a.createElement("h3",null,"CALENDARIO"))),s.a.createElement(v.a,{size:"sm",centered:!0,show:this.state.showAdoptModal,onHide:this.closeModal,animation:!0},s.a.createElement(ie,{loggedInUser:this.props.loggedInUser,closeModal:this.closeModal,setTheUser:this.props.setTheUser,pet:this.state.pet}))):s.a.createElement(se.a,{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh"},type:"Rings",color:"red",height:250,width:250,timeout:1e4}))}}]),t}(r.Component)),ce=a(151),me=a(150),ue={width:"100%",height:"100%"},de=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).onMarkerClick=function(e,t,n){return a.setState({selectedPlace:e,activeMarker:t,showingInfoWindow:!0})},a.onClose=function(){a.state.showingInfoWindow&&a.setState({showingInfoWindow:!1,activeMarker:null})},a.state={showingInfoWindow:!1,activeMarker:{},selectedPlace:{}},a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return s.a.createElement(me.Map,{google:this.props.google,zoom:15,style:ue,initialCenter:{lat:40.392611,lng:-3.698222}},s.a.createElement(me.Marker,{onClick:this.onMarkerClick,name:"Fluffy's Shelter"}),s.a.createElement(me.InfoWindow,{marker:this.state.activeMarker,visible:this.state.showingInfoWindow,onClose:this.onClose},s.a.createElement("div",null,s.a.createElement("h4",null,this.state.selectedPlace.name))))}}]),t}(r.Component),he=Object(me.GoogleApiWrapper)({apiKey:"AIzaSyCvUhedwcfuuSBmrtSdaNlQ3Urw0zkuZ28"})(de),pe=a(248),ge=a.n(pe),fe=a(249),Ee=a.n(fe),ve=a(250),be=a.n(ve),ye=function(){return s.a.createElement(O.a,null,s.a.createElement(U.a,{className:"items-align-center justify-content-between",style:{minHeight:"80vh"}},s.a.createElement(M.a,{md:5},s.a.createElement("h3",{style:{paddingTop:"20px"}},"\xbfQui\xe9nes somos?"),s.a.createElement("p",null,"Somos un refugio de animales concienciados con ayudar a los animales a encontrar una vida mejor. Tambi\xe9n tenemos servicio para que aquellos que no puedan hacerse cargo de un animal, puedan conseguirles una buena casa."),s.a.createElement("br",null),s.a.createElement("h3",null,"Contacto"),s.a.createElement(ce.a,{variant:"flush"},s.a.createElement("hr",null),s.a.createElement(ce.a.Item,null,s.a.createElement("figure",{style:{display:"flex",alignItems:"center"}},s.a.createElement("img",{src:ge.a,alt:"location logo"}),s.a.createElement("h6",{style:{marginTop:"5px"}},"Direcci\xf3n")),s.a.createElement("p",null,"Paseo de la chopera n\xba 14, Matadero, Madrid")),s.a.createElement(ce.a.Item,null,s.a.createElement("figure",{style:{display:"flex",alignItems:"center"}},s.a.createElement("img",{src:Ee.a,alt:"email logo"}),s.a.createElement("h6",{style:{marginTop:"5px"}},"Email")),s.a.createElement("a",{href:"mailto:nahere-shelter@gmail.com"},"nahere-shelter@gmail.com")),s.a.createElement(ce.a.Item,null,s.a.createElement("figure",{style:{display:"flex",alignItems:"center"}},s.a.createElement("img",{src:be.a,alt:"phone logo"}),s.a.createElement("h6",{style:{marginTop:"5px"}},"Tel\xe9fono")),s.a.createElement("p",null,"912 000 000")))),s.a.createElement(M.a,{md:6},s.a.createElement("figure",{style:{minHeight:"60vh",paddingTop:"20px"}},s.a.createElement(he,null)))))},Ce=a(115),we=a(251),Ne=a.n(we),Se=a(252),je=a.n(Se),xe=a(187),Me=a.n(xe),Ue=(a(369),function(e){var t=e.users;return s.a.createElement("div",{className:"textContainerComponent"},s.a.createElement("div",{className:"textContainer"},t&&s.a.createElement("div",null,s.a.createElement("h1",null,"Usuarios conectados"),s.a.createElement("div",{className:"activeContainer"},s.a.createElement("h2",null,t.map((function(e){var t=e.name;return s.a.createElement("div",{key:t,className:"activeItem"},"- ",t,s.a.createElement("img",{alt:"Online Icon",src:Me.a}))})))))))}),Oe=a(253),Ae=a.n(Oe),Ie=(a(403),a(207)),ke=a.n(Ie),Fe=function(e){var t=e.message,a=t.text,n=t.user,r=!1,l=e.name.trim().toLowerCase();return n===l&&(r=!0),r?s.a.createElement("div",{className:"messageComponent"},s.a.createElement("div",{className:"messageContainer justifyEnd"},s.a.createElement("p",{className:"sentText pr-10"},l),s.a.createElement("div",{className:"messageBox backgroundBlue"},s.a.createElement("p",{className:"messageText colorWhite"},ke.a.emojify(a))))):s.a.createElement("div",{className:"messageComponent"},s.a.createElement("div",{className:"messageContainer justifyStart"},s.a.createElement("div",{className:"messageBox backgroundLight"},s.a.createElement("p",{className:"messageText colorDark"},ke.a.emojify(a))),s.a.createElement("p",{className:"sentText pl-10 "},n)))},Te=(a(404),function(e){var t=e.messages,a=e.name;return s.a.createElement(Ae.a,{className:"messages"},t.map((function(e,t){return s.a.createElement("div",{key:t},s.a.createElement(Fe,{message:e,name:a}))})))}),Pe=a(254),Le=a.n(Pe),ze=(a(405),function(e){return s.a.createElement("div",{className:"infoComponent"},s.a.createElement("div",{className:"infoBar"},s.a.createElement("div",{className:"leftInnerContainer"},s.a.createElement("img",{className:"onlineIcon",src:Me.a,alt:"online icon"}),s.a.createElement("h3",null,"Sala: ",e.room)),s.a.createElement("div",{className:"rightInnerContainer"},s.a.createElement("a",{href:"/join"},s.a.createElement("img",{src:Le.a,alt:"close icon"})))))}),He=(a(406),function(e){var t=e.setMessage,a=e.sendMessage,n=e.message;return s.a.createElement("div",{className:"inputComponent"},s.a.createElement("form",{className:"form"},s.a.createElement("input",{className:"input",type:"text",placeholder:"Escribe un mensaje...",value:n,onChange:function(e){var a=e.target.value;return t(a)},onKeyPress:function(e){return"Enter"===e.key?a(e):null}}),s.a.createElement("button",{className:"sendButton",onClick:function(e){return a(e)}},"Enviar")))}),De=(a(407),function(e){var t=Object(r.useState)(e.loggedInUser.username),a=Object(Ce.a)(t,1)[0],l=Object(r.useState)(""),i=Object(Ce.a)(l,2),o=i[0],c=i[1],m=Object(r.useState)(""),u=Object(Ce.a)(m,2),d=u[0],h=u[1],p=Object(r.useState)(""),g=Object(Ce.a)(p,2),f=g[0],E=g[1],v=Object(r.useState)([]),b=Object(Ce.a)(v,2),y=b[0],C=b[1],w="".concat("http://localhost:5000/");Object(r.useEffect)((function(){var t=Ne.a.parse(e.location.search).room;n=je()(w),c(t),n.emit("join",{name:a,room:t},(function(e){return e&&alert(e)}))}),[w,a,e.location.search]),Object(r.useEffect)((function(){return n.on("message",(function(e){return C([].concat(Object(Z.a)(y),[e]))})),n.on("roomData",(function(e){var t=e.users;return h(t)})),function(){n.emit("disconnect"),n.off()}}),[y]);return s.a.createElement("div",{className:"chatComponent"},s.a.createElement("div",{className:"outerContainer"},s.a.createElement("div",{className:"container"},s.a.createElement(ze,{room:o}),s.a.createElement(Te,{messages:y,name:a}),s.a.createElement(He,{message:f,setMessage:E,sendMessage:function(e){e.preventDefault(),f&&n.emit("sendMessage",f,(function(){return E("")}))}})),s.a.createElement(Ue,{users:d})))}),Re=(a(408),function(e){var t=Object(r.useState)(""),a=Object(Ce.a)(t,2),n=a[0],i=a[1];return s.a.createElement("div",{className:"joinComponent"},s.a.createElement("div",{className:"joinOuterContainer"},s.a.createElement("div",{className:"joinInnerContainer"},s.a.createElement("h1",{className:"heading"},"Salas de chat"),s.a.createElement("h2",{style:{color:"#906a44"}},e.loggedInUser.username),s.a.createElement("div",null,s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{className:"choose",htmlFor:"chatList"},"Escoge la sala de chat"),s.a.createElement("select",{name:"park",className:"form-control",id:"chatList",onChange:function(e){return i(e.target.value)}},s.a.createElement("option",{defaultValue:!0,hidden:!0},"Seleccionar")," ",s.a.createElement("option",{value:"perros"},"Perros"),s.a.createElement("option",{value:"gatos"},"Gatos"),s.a.createElement("option",{value:"gatos"},"Roedores"),s.a.createElement("option",{value:"otros"},"Otros")))),s.a.createElement(l.b,{onClick:function(e){return!n&&e.preventDefault()},to:"/chat?room=".concat(n)},s.a.createElement("button",{className:"button",type:"submit"},"Entrar")))))}),Be=a(208),Ge=(a(409),a(203)),_e=a.n(Ge),We=(a(411),a(412),Object(Be.b)(_e.a)),qe={allDay:"Todo el dia",previous:"Anterior",next:"Siguiente",today:"Hoy",month:"Mes",week:"Semana",day:"D\xeda",agenda:"Agenda",date:"Fecha",time:"Tiempo",event:"Evento",showMore:function(e){return"+ Mostrar m\xe1s (".concat(e,")")}},Ve=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(d.a)(t).call(this,e))).componentDidMount=function(){return a.dogInfo()},a.dogInfo=function(){a.ScrapServices.getDetails(a.props.match.params.id).then((function(e){a.setState({dog:Object(z.a)({},a.state.dog,{},e.pet)},(function(){return a.showPrevEvents()}))})).catch((function(e){return console.log(e)}))},a.showPrevEvents=function(){var e,t,n,r=[];a.props.loggedInUser.calendar.map((function(a){a.start&&(e=a.start.substr(0,10),t=a.title,n=a.end.substr(0,10));var s={title:"".concat(t),start:new Date("".concat(e," 00:00:00")),end:new Date("".concat(n," 00:00:00"))};return r.push(s)})),a.setState({mybackup:r})},a.handleSubmit=function(e){e.preventDefault(),a.calendarService.postCalendar(a.state.myEventsList[0],a.props.match.params.id).then((function(){a.props.fetchUser(),a.handleClose(),a.dogInfo()})).catch((function(e){return console.log(e)})),a.showPrevEvents()},a.handleInputChange=function(e){var t=a.state.myEventsList.map((function(t){return e.target.name.includes("title")&&(t.title=e.target.value),e.target.name.includes("start")&&(t.start=e.target.value),e.target.name.includes("end")&&(t.end=e.target.value),t}));a.setState({myEventsList:t})},a.handleShow=function(){return a.setState({showModalWindow:!0})},a.handleClose=function(){return a.setState({showModalWindow:!1})},a.state={dog:{calendar:[]},showModalWindow:!1,mybackup:[],myEventsList:[{title:"",start:new Date(""),end:new Date("")}]},a.ScrapServices=new X,a.calendarService=new W,a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return s.a.createElement(s.a.Fragment,null,s.a.createElement(O.a,null,s.a.createElement("section",null,s.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},s.a.createElement(x.a,{variant:"outline-success",className:"btn-profile",onClick:this.handleShow},"A\xf1adir una cita")),s.a.createElement(U.a,null,s.a.createElement(M.a,{md:12},s.a.createElement("div",{style:{height:"80vh",marginTop:"25px"},className:"calendar-container"},s.a.createElement(Be.a,{messages:qe,culture:"es",localizer:We,events:this.state.mybackup,startAccessor:"start",endAccessor:"end"})))))),s.a.createElement(v.a,{size:"sm",centered:!0,animation:!0,show:this.state.showModalWindow,onHide:this.handleClose},s.a.createElement("div",{className:"date-appo"},s.a.createElement("form",{id:"form-container",onSubmit:this.handleSubmit},s.a.createElement("div",{className:"box"},s.a.createElement("div",{className:"box-form"},s.a.createElement("div",{className:"box-login-tab"}),s.a.createElement("div",{className:"box-login-title"},s.a.createElement("div",{className:"i i-login"}),s.a.createElement("div",{className:"i i-login"}),s.a.createElement("div",{className:"i i-login"})),s.a.createElement("div",{className:"box-login"},s.a.createElement("div",{className:"fieldset-body",id:"login_form"},s.a.createElement("p",{className:"field"},s.a.createElement("label",{htmlFor:"title"},"T\xedtulo de la cita"),s.a.createElement("input",{type:"text",id:"username",name:"title",title:"Introduzca t\xedtulo para la cita.",placeholder:"Introduzca t\xedtulo para la cita.",onChange:this.handleInputChange,value:this.state.myEventsList.title})),s.a.createElement("p",{className:"field"},s.a.createElement("label",{htmlFor:"start"},"Selecciona fecha de inicio"),s.a.createElement("input",{type:"date",id:"start",name:"start",title:"Introduzca fecha de inicio.",onChange:this.handleInputChange,value:this.state.myEventsList.start})),s.a.createElement("p",{className:"field"},s.a.createElement("label",{htmlFor:"end"},"Selecciona fecha de finalizaci\xf3n"),s.a.createElement("input",{type:"date",id:"end",name:"end",title:"Introduzca fecha de finalizaci\xf3n.",onChange:this.handleInputChange,value:this.state.myEventsList.end})),s.a.createElement("p",{className:"failureMessage"}," ",this.state.errorMessage),s.a.createElement("p",{className:"link account-message aux-mes",onClick:this.handleClose},"Volver atr\xe1s"),s.a.createElement("input",{type:"submit",id:"do_login",value:"A\xf1adir cita"})))))))))}}]),t}(r.Component),Ke=function(e){function t(){var e;return Object(c.a)(this,t),(e=Object(u.a)(this,Object(d.a)(t).call(this))).componentDidMount=function(){return e.fetchUser()},e.setTheUser=function(t){return e.setState({loggedInUser:t})},e.fetchUser=function(){e.AuthServices.loggedin().then((function(t){return"fail"===t.status?e.setState({loggedInUser:!1}):e.setState({loggedInUser:t})})).catch((function(){return e.setState({loggedInUser:!1})}))},e.state={loggedInUser:void 0},e.AuthServices=new E,e}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement(s.a.Fragment,null,void 0!==this.state.loggedInUser?s.a.createElement(s.a.Fragment,null,s.a.createElement(S,{setTheUser:this.setTheUser,loggedInUser:this.state.loggedInUser}),s.a.createElement(p.d,null,s.a.createElement(p.b,{exact:!0,path:"/",render:function(){return s.a.createElement(le,e.state.loggedInUser)}}),s.a.createElement(p.b,{path:"/details/:link",render:function(t){return s.a.createElement(oe,Object.assign({loggedInUser:e.state.loggedInUser,setTheUser:e.setTheUser},t))}}),s.a.createElement(p.b,{path:"/myPet/:id",render:function(t){return s.a.createElement(oe,Object.assign({loggedInUser:e.state.loggedInUser,setTheUser:e.setTheUser},t))}}),s.a.createElement(p.b,{path:"/profile",render:function(){return e.state.loggedInUser?s.a.createElement(J,{loggedInUser:e.state.loggedInUser,setTheUser:e.setTheUser}):s.a.createElement(p.a,{to:"/"})}}),s.a.createElement(p.b,{path:"/about",render:function(){return s.a.createElement(ye,null)}}),s.a.createElement(p.b,{path:"/join",render:function(){return e.state.loggedInUser?s.a.createElement(Re,{loggedInUser:e.state.loggedInUser}):s.a.createElement(p.a,{to:"/"})}}),s.a.createElement(p.b,{path:"/chat",render:function(t){return e.state.loggedInUser?s.a.createElement(De,Object.assign({},t,{loggedInUser:e.state.loggedInUser})):s.a.createElement(p.a,{to:"/"})}}),s.a.createElement(p.b,{path:"/map",render:function(e){return s.a.createElement(he,e)}}),s.a.createElement(p.b,{path:"/newCalendar/:id",render:function(t){return s.a.createElement(Ve,Object.assign({},t,{loggedInUser:e.state.loggedInUser,fetchUser:e.fetchUser}))}})),s.a.createElement(j,null)):s.a.createElement(se.a,{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh"},type:"Rings",color:"red",height:250,width:250,timeout:1e4}))}}]),t}(r.Component);o.a.render(s.a.createElement(l.a,null,s.a.createElement(Ke,null)),document.getElementById("root"))}},[[258,1,3]]]);
//# sourceMappingURL=main.048b046d.chunk.js.map